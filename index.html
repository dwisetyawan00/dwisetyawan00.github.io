<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al-Qur'an Digital</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #1e3c72;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .search-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .quick-search {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }

        .quick-search h3 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .quick-search-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 18px;
            transition: all 0.3s ease;
            margin-bottom: 10px;
        }

        .quick-search-input:focus {
            outline: none;
            border-color: #1e3c72;
            box-shadow: 0 0 15px rgba(30, 60, 114, 0.2);
        }

        .search-examples {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .example-tag {
            background: #1e3c72;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .example-tag:hover {
            background: #2a5298;
            transform: translateY(-1px);
        }

        .search-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            font-weight: 600;
            margin-bottom: 5px;
            color: #1e3c72;
        }

        .input-group select,
        .input-group input {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .input-group select:focus,
        .input-group input:focus {
            outline: none;
            border-color: #1e3c72;
            box-shadow: 0 0 10px rgba(30, 60, 114, 0.2);
        }

        .btn {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(30, 60, 114, 0.3);
        }

        .content-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            min-height: 400px;
        }

        .ayah-container {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            background: #fafafa;
            transition: all 0.3s ease;
        }

        .ayah-container:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .ayah-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .ayah-number {
            background: #1e3c72;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-right: 10px;
        }

        .surah-info {
            color: #666;
            font-size: 14px;
            margin-left: auto;
        }

        .arabic-text {
            font-size: 28px;
            line-height: 1.8;
            text-align: right;
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            font-family: 'Traditional Arabic', 'Amiri', serif;
            direction: rtl;
        }

        .translation {
            font-size: 16px;
            line-height: 1.6;
            color: #444;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #1e3c72;
        }

        .loading {
            text-align: center;
            padding: 50px;
            font-size: 18px;
            color: #666;
        }

        .error {
            background: #ffe6e6;
            color: #d63384;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border: 1px solid #f5c6cb;
        }

        .surah-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .surah-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .surah-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: #1e3c72;
        }

        .surah-card h3 {
            color: #1e3c72;
            margin-bottom: 8px;
            font-size: 18px;
        }

        .surah-card p {
            color: #666;
            font-size: 14px;
            margin: 4px 0;
        }

        @media (max-width: 768px) {
            .search-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .container {
                padding: 10px;
            }

            .search-examples {
                justify-content: center;
            }

            .arabic-text {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üïå Al-Qur'an Digital</h1>
            <p>Mushaf Al-Qur'an lengkap dengan terjemahan Bahasa Indonesia</p>
        </div>

        <div class="search-section">
            <!-- Pencarian Cepat -->
            <div class="quick-search">
                <h3>üîç Pencarian Cepat</h3>
                <input type="text" 
                       id="quickSearchInput" 
                       class="quick-search-input" 
                       placeholder="Ketik: 'QS 2', 'al baqarah', 'QS al baqarah ayat 1', 'yasin', 'al fatihah'"
                       onkeypress="handleQuickSearchEnter(event)">
                <div class="search-examples">
                    <span class="example-tag" onclick="setQuickSearch('QS 2')">QS 2</span>
                    <span class="example-tag" onclick="setQuickSearch('al baqarah')">al baqarah</span>
                    <span class="example-tag" onclick="setQuickSearch('QS al baqarah ayat 1')">QS al baqarah ayat 1</span>
                    <span class="example-tag" onclick="setQuickSearch('yasin')">yasin</span>
                    <span class="example-tag" onclick="setQuickSearch('al fatihah')">al fatihah</span>
                </div>
            </div>

            <!-- Pencarian Manual -->
            <div class="search-grid">
                <div class="input-group">
                    <label for="surahSelect">Pilih Surat:</label>
                    <select id="surahSelect">
                        <option value="">-- Pilih Surat --</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="ayahInput">Nomor Ayat:</label>
                    <input type="number" id="ayahInput" min="1" placeholder="Masukkan nomor ayat">
                </div>
                <div class="input-group">
                    <label for="juzSelect">Pilih Juz:</label>
                    <select id="juzSelect">
                        <option value="">-- Pilih Juz --</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="pageInput">Halaman:</label>
                    <input type="number" id="pageInput" min="1" max="604" placeholder="1-604">
                </div>
            </div>
            <div style="text-align: center;">
                <button class="btn" onclick="performQuickSearch()">üöÄ Pencarian Cepat</button>
                <button class="btn" onclick="searchAyah()">üîç Cari Ayat</button>
                <button class="btn" onclick="showAllSurahs()">üìã Daftar Semua Surat</button>
                <button class="btn" onclick="loadRandomAyah()">üé≤ Ayat Acak</button>
            </div>
        </div>

        <div class="content-section">
            <div id="content">
                <div class="loading">
                    <p>Selamat datang di Al-Qur'an Digital</p>
                    <p>Memuat data Al-Qur'an...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let quranData = {};
        let surahList = [];
        
        // Daftar nama surat lengkap dengan berbagai variasi
        const surahNames = {
            // Al-Fatihah
            'alfatihah': 1, 'fatihah': 1, 'pembukaan': 1, 'al fatihah': 1,
            // Al-Baqarah
            'albaqarah': 2, 'baqarah': 2, 'sapi': 2, 'al baqarah': 2, 'sapi betina': 2,
            // Ali Imran
            'alimran': 3, 'imran': 3, 'keluarga imran': 3, 'al imran': 3, 'ali imran': 3,
            // An-Nisa
            'annisa': 4, 'nisa': 4, 'wanita': 4, 'an nisa': 4,
            // Al-Ma'idah
            'almaidah': 5, 'maidah': 5, 'hidangan': 5, 'al maidah': 5,
            // Al-An'am
            'alanam': 6, 'anam': 6, 'binatang ternak': 6, 'al anam': 6,
            // Al-A'raf
            'alaraf': 7, 'araf': 7, 'tempat tertinggi': 7, 'al araf': 7,
            // Al-Anfal
            'alanfal': 8, 'anfal': 8, 'harta rampasan': 8, 'al anfal': 8,
            // At-Taubah
            'attaubah': 9, 'taubah': 9, 'pengampunan': 9, 'at taubah': 9, 'at tawbah': 9,
            // Yunus
            'yunus': 10, 'nabi yunus': 10,
            // Hud
            'hud': 11, 'nabi hud': 11,
            // Yusuf
            'yusuf': 12, 'nabi yusuf': 12,
            // Ar-Ra'd
            'arrad': 13, 'rad': 13, 'guruh': 13, 'ar rad': 13,
            // Ibrahim
            'ibrahim': 14, 'nabi ibrahim': 14,
            // Al-Hijr
            'alhijr': 15, 'hijr': 15, 'al hijr': 15,
            // An-Nahl
            'annahl': 16, 'nahl': 16, 'lebah': 16, 'an nahl': 16,
            // Al-Isra
            'alisra': 17, 'isra': 17, 'perjalanan malam': 17, 'al isra': 17,
            // Al-Kahf
            'alkahf': 18, 'kahf': 18, 'gua': 18, 'al kahf': 18,
            // Maryam
            'maryam': 19, 'siti maryam': 19,
            // Taha
            'taha': 20,
            // Al-Anbiya
            'alanbiya': 21, 'anbiya': 21, 'para nabi': 21, 'al anbiya': 21,
            // Al-Hajj
            'alhajj': 22, 'hajj': 22, 'haji': 22, 'al hajj': 22,
            // Al-Mu'minun
            'almuminun': 23, 'muminun': 23, 'orang mukmin': 23, 'al muminun': 23,
            // An-Nur
            'annur': 24, 'nur': 24, 'cahaya': 24, 'an nur': 24,
            // Al-Furqan
            'alfurqan': 25, 'furqan': 25, 'pembeda': 25, 'al furqan': 25,
            // Ash-Shu'ara
            'assyuara': 26, 'syuara': 26, 'para penyair': 26, 'ash shuara': 26,
            // An-Naml
            'annaml': 27, 'naml': 27, 'semut': 27, 'an naml': 27,
            // Al-Qasas
            'alqasas': 28, 'qasas': 28, 'kisah': 28, 'al qasas': 28,
            // Al-Ankabut
            'alankabut': 29, 'ankabut': 29, 'laba-laba': 29, 'al ankabut': 29,
            // Ar-Rum
            'arrum': 30, 'rum': 30, 'bangsa romawi': 30, 'ar rum': 30,
            // Luqman
            'luqman': 31, 'lukman': 31,
            // As-Sajdah
            'assajdah': 32, 'sajdah': 32, 'sujud': 32, 'as sajdah': 32,
            // Al-Ahzab
            'alahzab': 33, 'ahzab': 33, 'golongan': 33, 'al ahzab': 33,
            // Saba
            'saba': 34, 'kaum saba': 34,
            // Fatir
            'fatir': 35, 'pencipta': 35,
            // Ya-Sin
            'yasin': 36, 'ya sin': 36, 'yasiin': 36,
            // As-Saffat
            'assaffat': 37, 'saffat': 37, 'berbaris': 37, 'as saffat': 37,
            // Sad
            'sad': 38,
            // Az-Zumar
            'azzumar': 39, 'zumar': 39, 'rombongan': 39, 'az zumar': 39,
            // Ghafir
            'ghafir': 40, 'mukmin': 40,
            // Fussilat
            'fussilat': 41, 'dijelaskan': 41,
            // Ash-Shura
            'asyura': 42, 'syura': 42, 'musyawarah': 42, 'ash shura': 42,
            // Az-Zukhruf
            'azzukhruf': 43, 'zukhruf': 43, 'perhiasan': 43, 'az zukhruf': 43,
            // Ad-Dukhan
            'addukhan': 44, 'dukhan': 44, 'kabut': 44, 'ad dukhan': 44,
            // Al-Jathiyah
            'aljatsiyah': 45, 'jatsiyah': 45, 'berlutut': 45, 'al jathiyah': 45,
            // Al-Ahqaf
            'alahqaf': 46, 'ahqaf': 46, 'bukit pasir': 46, 'al ahqaf': 46,
            // Muhammad
            'muhammad': 47, 'nabi muhammad': 47,
            // Al-Fath
            'alfath': 48, 'fath': 48, 'kemenangan': 48, 'al fath': 48,
            // Al-Hujurat
            'alhujurat': 49, 'hujurat': 49, 'kamar': 49, 'al hujurat': 49,
            // Qaf
            'qaf': 50,
            // Adh-Dhariyat
            'azzariyat': 51, 'zariyat': 51, 'angin': 51, 'adh dhariyat': 51,
            // At-Tur
            'attur': 52, 'tur': 52, 'bukit': 52, 'at tur': 52,
            // An-Najm
            'annajm': 53, 'najm': 53, 'bintang': 53, 'an najm': 53,
            // Al-Qamar
            'alqamar': 54, 'qamar': 54, 'bulan': 54, 'al qamar': 54,
            // Ar-Rahman
            'arrahman': 55, 'rahman': 55, 'maha pengasih': 55, 'ar rahman': 55,
            // Al-Waqi'ah
            'alwaqiah': 56, 'waqiah': 56, 'hari kiamat': 56, 'al waqiah': 56,
            // Al-Hadid
            'alhadid': 57, 'hadid': 57, 'besi': 57, 'al hadid': 57,
            // Al-Mujadilah
            'almujadilah': 58, 'mujadilah': 58, 'gugatan': 58, 'al mujadilah': 58,
            // Al-Hashr
            'alhasyr': 59, 'hasyr': 59, 'pengusiran': 59, 'al hashr': 59,
            // Al-Mumtahanah
            'almumtahanah': 60, 'mumtahanah': 60, 'diuji': 60, 'al mumtahanah': 60,
            // As-Saff
            'assaff': 61, 'saff': 61, 'barisan': 61, 'as saff': 61,
            // Al-Jumu'ah
            'aljumuah': 62, 'jumuah': 62, 'hari jumat': 62, 'al jumuah': 62,
            // Al-Munafiqun
            'almunafiqun': 63, 'munafiqun': 63, 'orang munafik': 63, 'al munafiqun': 63,
            // At-Taghabun
            'attaghabun': 64, 'taghabun': 64, 'pengungkapan': 64, 'at taghabun': 64,
            // At-Talaq
            'attalaq': 65, 'talaq': 65, 'cerai': 65, 'at talaq': 65,
            // At-Tahrim
            'attahrim': 66, 'tahrim': 66, 'pengharaman': 66, 'at tahrim': 66,
            // Al-Mulk
            'almulk': 67, 'mulk': 67, 'kerajaan': 67, 'al mulk': 67,
            // Al-Qalam
            'alqalam': 68, 'qalam': 68, 'pena': 68, 'al qalam': 68,
            // Al-Haqqah
            'alhaqqah': 69, 'haqqah': 69, 'hari kiamat': 69, 'al haqqah': 69,
            // Al-Ma'arij
            'almarij': 70, 'marij': 70, 'tempat naik': 70, 'al maarij': 70,
            // Nuh
            'nuh': 71, 'nabi nuh': 71,
            // Al-Jinn
            'aljinn': 72, 'jinn': 72, 'jin': 72, 'al jinn': 72,
            // Al-Muzzammil
            'almuzzammil': 73, 'muzzammil': 73, 'berselimut': 73, 'al muzzammil': 73,
            // Al-Muddaththir
            'almuddatsir': 74, 'muddatsir': 74, 'berselubung': 74, 'al muddaththir': 74,
            // Al-Qiyamah
            'alqiyamah': 75, 'qiyamah': 75, 'kiamat': 75, 'al qiyamah': 75,
            // Al-Insan
            'alinsan': 76, 'insan': 76, 'manusia': 76, 'al insan': 76,
            // Al-Mursalat
            'almursalat': 77, 'mursalat': 77, 'diutus': 77, 'al mursalat': 77,
            // An-Naba
            'annaba': 78, 'naba': 78, 'berita besar': 78, 'an naba': 78,
            // An-Nazi'at
            'annaziat': 79, 'naziat': 79, 'pencabut': 79, 'an naziat': 79,
            // 'Abasa
            'abasa': 80, 'dia bermuka masam': 80,
            // At-Takwir
            'attakwir': 81, 'takwir': 81, 'menggulung': 81, 'at takwir': 81,
            // Al-Infitar
            'alinfitar': 82, 'infitar': 82, 'terbelah': 82, 'al infitar': 82,
            // Al-Mutaffifin
            'almutaffifin': 83, 'mutaffifin': 83, 'curang': 83, 'al mutaffifin': 83,
            // Al-Inshiqaq
            'alinsyiqaq': 84, 'insyiqaq': 84, 'terbelah': 84, 'al inshiqaq': 84,
            // Al-Buruj
            'alburuj': 85, 'buruj': 85, 'gugusan bintang': 85, 'al buruj': 85,
            // At-Tariq
            'attariq': 86, 'tariq': 86, 'yang datang malam': 86, 'at tariq': 86,
            // Al-A'la
            'alala': 87, 'ala': 87, 'maha tinggi': 87, 'al ala': 87,
            // Al-Ghashiyah
            'alghasyiyah': 88, 'ghasyiyah': 88, 'hari pembalasan': 88, 'al ghashiyah': 88,
            // Al-Fajr
            'alfajr': 89, 'fajr': 89, 'fajar': 89, 'al fajr': 89,
            // Al-Balad
            'albalad': 90, 'balad': 90, 'negeri': 90, 'al balad': 90,
            // Ash-Shams
            'assyams': 91, 'syams': 91, 'matahari': 91, 'ash shams': 91,
            // Al-Layl
            'allail': 92, 'lail': 92, 'malam': 92, 'al layl': 92,
            // Ad-Duha
            'adduha': 93, 'duha': 93, 'waktu duha': 93, 'ad duha': 93,
            // Ash-Sharh
            'alinsyirah': 94, 'insyirah': 94, 'lapang': 94, 'ash sharh': 94,
            // At-Tin
            'attin': 95, 'tin': 95, 'buah tin': 95, 'at tin': 95,
            // Al-'Alaq
            'alalaq': 96, 'alaq': 96, 'segumpal darah': 96, 'al alaq': 96,
            // Al-Qadr
            'alqadr': 97, 'qadr': 97, 'kemuliaan': 97, 'al qadr': 97,
            // Al-Bayyinah
            'albayyinah': 98, 'bayyinah': 98, 'bukti': 98, 'al bayyinah': 98,
            // Az-Zalzalah
            'azzalzalah': 99, 'zalzalah': 99, 'guncangan': 99, 'az zalzalah': 99,
            // Al-'Adiyat
            'aladiyat': 100, 'adiyat': 100, 'berlari': 100, 'al adiyat': 100,
            // Al-Qari'ah
            'alqariah': 101, 'qariah': 101, 'hari kiamat': 101, 'al qariah': 101,
            // At-Takathur
            'attakasur': 102, 'takasur': 102, 'bermegah': 102, 'at takathur': 102,
            // Al-'Asr
            'alasr': 103, 'asr': 103, 'masa': 103, 'al asr': 103,
            // Al-Humazah
            'alhumazah': 104, 'humazah': 104, 'pengumpat': 104, 'al humazah': 104,
            // Al-Fil
            'alfil': 105, 'fil': 105, 'gajah': 105, 'al fil': 105,
            // Quraysh
            'quraisy': 106, 'suku quraisy': 106, 'quraysh': 106,
            // Al-Ma'un
            'almaun': 107, 'maun': 107, 'barang berguna': 107, 'al maun': 107,
            // Al-Kawthar
            'alkausar': 108, 'kausar': 108, 'nikmat': 108, 'al kawthar': 108,
            // Al-Kafirun
            'alkafirun': 109, 'kafirun': 109, 'orang kafir': 109, 'al kafirun': 109,
            // An-Nasr
            'annasr': 110, 'nasr': 110, 'pertolongan': 110, 'an nasr': 110,
            // Al-Masad
            'almasad': 111, 'masad': 111, 'sabut': 111, 'al masad': 111, 'lahab': 111,
            // Al-Ikhlas
            'alikhlas': 112, 'ikhlas': 112, 'kemurnian': 112, 'al ikhlas': 112,
            // Al-Falaq
            'alfalaq': 113, 'falaq': 113, 'waktu subuh': 113, 'al falaq': 113,
            // An-Nas
            'annas': 114, 'nas': 114, 'manusia': 114, 'an nas': 114
        };

        // Inisialisasi aplikasi
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        async function initializeApp() {
            try {
                showLoading('Memuat data Al-Qur\'an...');
                await loadQuranData();
                await loadSurahList();
                populateDropdowns();
                showWelcomeMessage();
            } catch (error) {
                showError('Gagal memuat data Al-Qur\'an: ' + error.message);
            }
        }

        async function loadQuranData() {
            try {
                const response = await fetch('https://api.quran.com/api/v4/quran/translations/33');
                if (!response.ok) throw new Error('Gagal mengambil data terjemahan');
                const data = await response.json();
                quranData = data.translations[0];
            } catch (error) {
                console.error('Error loading Quran data:', error);
                throw error;
            }
        }

        async function loadSurahList() {
            try {
                const response = await fetch('https://api.quran.com/api/v4/chapters');
                if (!response.ok) throw new Error('Gagal mengambil daftar surah');
                const data = await response.json();
                surahList = data.chapters;
            } catch (error) {
                console.error('Error loading surah list:', error);
                throw error;
            }
        }

        function populateDropdowns() {
            const surahSelect = document.getElementById('surahSelect');
            const juzSelect = document.getElementById('juzSelect');
            
            // Populate surah dropdown
            surahList.forEach(surah => {
                const option = document.createElement('option');
                option.value = surah.id;
                option.textContent = `${surah.id}. ${surah.name_simple} (${surah.translated_name.name})`;
                surahSelect.appendChild(option);
            });

            // Populate juz dropdown
            for (let i = 1; i <= 30; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = `Juz ${i}`;
                juzSelect.appendChild(option);
            }
        }

        function showWelcomeMessage() {
            const content = document.getElementById('content');
            content.innerHTML = `
                <div style="text-align: center; padding: 50px;">
                    <h2 style="color: #1e3c72; margin-bottom: 20px;">Selamat Datang di Al-Qur'an Digital</h2>
                    <p style="font-size: 18px; color: #666; margin-bottom: 30px;">
                        Jelajahi dan pelajari Al-Qur'an dengan mudah. Gunakan fitur pencarian di atas untuk menemukan ayat yang Anda cari.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 30px;">
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0;">
                            <h3 style="color: #1e3c72; margin-bottom: 10px;">üìñ 114 Surah</h3>
                            <p style="color: #666;">Lengkap dengan terjemahan Bahasa Indonesia</p>
                        </div>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0;">
                            <h3 style="color: #1e3c72; margin-bottom: 10px;">üîç Pencarian Cepat</h3>
                            <p style="color: #666;">Cari dengan nama surah, nomor, atau ayat</p>
                        </div>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0;">
                            <h3 style="color: #1e3c72; margin-bottom: 10px;">üì± Responsif</h3>
                            <p style="color: #666;">Dapat diakses di berbagai perangkat</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function showLoading(message = 'Memuat...') {
            const content = document.getElementById('content');
            content.innerHTML = `
                <div class="loading">
                    <div style="margin-bottom: 20px;">
                        <div style="border: 4px solid #f3f3f3; border-top: 4px solid #1e3c72; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto;"></div>
                    </div>
                    <p>${message}</p>
                </div>
                <style>
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                </style>
            `;
        }

        function showError(message) {
            const content = document.getElementById('content');
            content.innerHTML = `
                <div class="error">
                    <h3>‚ùå Error</h3>
                    <p>${message}</p>
                    <button class="btn" onclick="initializeApp()" style="margin-top: 10px;">üîÑ Coba Lagi</button>
                </div>
            `;
        }

        // Fungsi pencarian cepat
        function performQuickSearch() {
            const query = document.getElementById('quickSearchInput').value.trim().toLowerCase();
            if (!query) {
                alert('Silakan masukkan kata kunci pencarian');
                return;
            }

            const result = parseQuickSearch(query);
            if (result.error) {
                alert(result.error);
                return;
            }

            if (result.type === 'surah') {
                loadSurah(result.surahNumber);
            } else if (result.type === 'ayah') {
                loadSpecificAyah(result.surahNumber, result.ayahNumber);
            }
        }

        function parseQuickSearch(query) {
            // Bersihkan input
            query = query.replace(/\s+/g, ' ').trim();
            
            // Pattern untuk "QS 2", "QS al baqarah", "QS al baqarah ayat 1", dll
            const patterns = [
                // QS 2 ayat 1, QS al baqarah ayat 1
                /^(?:qs|q\.s\.?)\s+(.+?)\s+ayat\s+(\d+)$/i,
                // QS 2, QS al baqarah
                /^(?:qs|q\.s\.?)\s+(.+)$/i,
                // al baqarah ayat 1, yasin ayat 1
                /^(.+?)\s+ayat\s+(\d+)$/i,
                // Hanya nama surah: al baqarah, yasin
                /^(.+)$/i
            ];

            for (let i = 0; i < patterns.length; i++) {
                const match = query.match(patterns[i]);
                if (match) {
                    const surahQuery = match[1].trim();
                    const ayahNumber = match[2] ? parseInt(match[2]) : null;
                    
                    // Cari nomor surah
                    const surahNumber = findSurahNumber(surahQuery);
                    if (!surahNumber) {
                        return { error: `Surah "${surahQuery}" tidak ditemukan. Periksa ejaan atau gunakan nama lain.` };
                    }

                    if (ayahNumber) {
                        // Validasi nomor ayat
                        const surah = surahList.find(s => s.id === surahNumber);
                        if (surah && ayahNumber > surah.verses_count) {
                            return { error: `Ayat ${ayahNumber} tidak ada dalam surah ${surah.name_simple}. Surah ini memiliki ${surah.verses_count} ayat.` };
                        }
                        return { type: 'ayah', surahNumber, ayahNumber };
                    } else {
                        return { type: 'surah', surahNumber };
                    }
                }
            }

            return { error: 'Format pencarian tidak dikenali. Gunakan format seperti: "QS 2", "al baqarah", "QS al baqarah ayat 1"' };
        }

        function findSurahNumber(query) {
            query = query.toLowerCase().trim();
            
            // Cek apakah input adalah angka
            const num = parseInt(query);
            if (!isNaN(num) && num >= 1 && num <= 114) {
                return num;
            }

            // Cari di dictionary nama surah
            if (surahNames[query]) {
                return surahNames[query];
            }

            // Cari secara partial match
            for (const name in surahNames) {
                if (name.includes(query) || query.includes(name)) {
                    return surahNames[name];
                }
            }

            return null;
        }

        function setQuickSearch(value) {
            document.getElementById('quickSearchInput').value = value;
        }

        function handleQuickSearchEnter(event) {
            if (event.key === 'Enter') {
                performQuickSearch();
            }
        }

        // Fungsi pencarian manual
        async function searchAyah() {
            const surahId = document.getElementById('surahSelect').value;
            const ayahNumber = document.getElementById('ayahInput').value;
            const juzNumber = document.getElementById('juzSelect').value;
            const pageNumber = document.getElementById('pageInput').value;

            if (surahId && ayahNumber) {
                await loadSpecificAyah(parseInt(surahId), parseInt(ayahNumber));
            } else if (surahId) {
                await loadSurah(parseInt(surahId));
            } else if (juzNumber) {
                await loadJuz(parseInt(juzNumber));
            } else if (pageNumber) {
                await loadPage(parseInt(pageNumber));
            } else {
                alert('Pilih setidaknya satu kriteria pencarian');
            }
        }

        async function loadSurah(surahNumber) {
            try {
                showLoading(`Memuat Surah ${surahNumber}...`);
                
                const response = await fetch(`https://api.quran.com/api/v4/quran/translations/33?chapter_number=${surahNumber}`);
                if (!response.ok) throw new Error('Gagal mengambil data surah');
                
                const data = await response.json();
                const surah = surahList.find(s => s.id === surahNumber);
                
                displaySurah(data.translations[0], surah);
            } catch (error) {
                showError('Gagal memuat surah: ' + error.message);
            }
        }

        async function loadSpecificAyah(surahNumber, ayahNumber) {
            try {
                showLoading(`Memuat QS ${surahNumber}:${ayahNumber}...`);
                
                const response = await fetch(`https://api.quran.com/api/v4/quran/translations/33?chapter_number=${surahNumber}&verse_number=${ayahNumber}`);
                if (!response.ok) throw new Error('Gagal mengambil data ayat');
                
                const data = await response.json();
                const surah = surahList.find(s => s.id === surahNumber);
                
                displaySpecificAyah(data.translations[0], surah, ayahNumber);
            } catch (error) {
                showError('Gagal memuat ayat: ' + error.message);
            }
        }

        async function loadJuz(juzNumber) {
            try {
                showLoading(`Memuat Juz ${juzNumber}...`);
                
                const response = await fetch(`https://api.quran.com/api/v4/quran/translations/33?juz_number=${juzNumber}`);
                if (!response.ok) throw new Error('Gagal mengambil data juz');
                
                const data = await response.json();
                displayJuz(data.translations[0], juzNumber);
            } catch (error) {
                showError('Gagal memuat juz: ' + error.message);
            }
        }

        async function loadPage(pageNumber) {
            try {
                showLoading(`Memuat Halaman ${pageNumber}...`);
                
                const response = await fetch(`https://api.quran.com/api/v4/quran/translations/33?page_number=${pageNumber}`);
                if (!response.ok) throw new Error('Gagal mengambil data halaman');
                
                const data = await response.json();
                displayPage(data.translations[0], pageNumber);
            } catch (error) {
                showError('Gagal memuat halaman: ' + error.message);
            }
        }

        async function loadRandomAyah() {
            try {
                showLoading('Memuat ayat acak...');
                
                const randomSurah = Math.floor(Math.random() * 114) + 1;
                const surah = surahList.find(s => s.id === randomSurah);
                const randomAyah = Math.floor(Math.random() * surah.verses_count) + 1;
                
                await loadSpecificAyah(randomSurah, randomAyah);
            } catch (error) {
                showError('Gagal memuat ayat acak: ' + error.message);
            }
        }

        function displaySurah(translations, surah) {
            const content = document.getElementById('content');
            let html = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2 style="color: #1e3c72; margin-bottom: 10px;">
                        ${surah.name_simple} (${surah.translated_name.name})
                    </h2>
                    <p style="color: #666; margin-bottom: 5px;">Surah ke-${surah.id} ‚Ä¢ ${surah.verses_count} Ayat</p>
                    <p style="color: #666;">${surah.revelation_place} ‚Ä¢ ${surah.name_arabic}</p>
                </div>
            `;

            translations.forEach(translation => {
                const ayahNumber = translation.verse_number;
                html += `
                    <div class="ayah-container">
                        <div class="ayah-header">
                            <span class="ayah-number">${ayahNumber}</span>
                            <span class="surah-info">QS ${surah.id}:${ayahNumber}</span>
                        </div>
                        <div class="translation">${translation.text}</div>
                    </div>
                `;
            });

            content.innerHTML = html;
        }

        function displaySpecificAyah(translations, surah, ayahNumber) {
            const content = document.getElementById('content');
            const translation = translations[0];
            
            const html = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2 style="color: #1e3c72; margin-bottom: 10px;">
                        QS ${surah.name_simple} (${surah.translated_name.name}) Ayat ${ayahNumber}
                    </h2>
                    <p style="color: #666;">Surah ke-${surah.id} ‚Ä¢ ${surah.revelation_place}</p>
                </div>
                
                <div class="ayah-container">
                    <div class="ayah-header">
                        <span class="ayah-number">${ayahNumber}</span>
                        <span class="surah-info">QS ${surah.id}:${ayahNumber}</span>
                    </div>
                    <div class="translation">${translation.text}</div>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn" onclick="loadSurah(${surah.id})">üìñ Baca Seluruh Surah</button>
                    <button class="btn" onclick="loadRandomAyah()">üé≤ Ayat Acak Lainnya</button>
                </div>
            `;

            content.innerHTML = html;
        }

        function displayJuz(translations, juzNumber) {
            const content = document.getElementById('content');
            let html = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2 style="color: #1e3c72; margin-bottom: 10px;">Juz ${juzNumber}</h2>
                    <p style="color: #666;">${translations.length} Ayat</p>
                </div>
            `;

            let currentSurah = null;
            translations.forEach(translation => {
                const surah = surahList.find(s => s.id === translation.chapter_id);
                
                if (currentSurah !== translation.chapter_id) {
                    currentSurah = translation.chapter_id;
                    html += `
                        <div style="background: #1e3c72; color: white; padding: 15px; margin: 20px 0 10px 0; border-radius: 8px; text-align: center;">
                            <h3>${surah.name_simple} (${surah.translated_name.name})</h3>
                        </div>
                    `;
                }

                html += `
                    <div class="ayah-container">
                        <div class="ayah-header">
                            <span class="ayah-number">${translation.verse_number}</span>
                            <span class="surah-info">QS ${translation.chapter_id}:${translation.verse_number}</span>
                        </div>
                        <div class="translation">${translation.text}</div>
                    </div>
                `;
            });

            content.innerHTML = html;
        }

        function displayPage(translations, pageNumber) {
            const content = document.getElementById('content');
            let html = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2 style="color: #1e3c72; margin-bottom: 10px;">Halaman ${pageNumber}</h2>
                    <p style="color: #666;">${translations.length} Ayat</p>
                </div>
            `;

            let currentSurah = null;
            translations.forEach(translation => {
                const surah = surahList.find(s => s.id === translation.chapter_id);
                
                if (currentSurah !== translation.chapter_id) {
                    currentSurah = translation.chapter_id;
                    html += `
                        <div style="background: #1e3c72; color: white; padding: 15px; margin: 20px 0 10px 0; border-radius: 8px; text-align: center;">
                            <h3>${surah.name_simple} (${surah.translated_name.name})</h3>
                        </div>
                    `;
                }

                html += `
                    <div class="ayah-container">
                        <div class="ayah-header">
                            <span class="ayah-number">${translation.verse_number}</span>
                            <span class="surah-info">QS ${translation.chapter_id}:${translation.verse_number}</span>
                        </div>
                        <div class="translation">${translation.text}</div>
                    </div>
                `;
            });

            content.innerHTML = html;
        }

        function showAllSurahs() {
            const content = document.getElementById('content');
            let html = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <h2 style="color: #1e3c72; margin-bottom: 10px;">Daftar Semua Surah</h2>
                    <p style="color: #666;">114 Surah dalam Al-Qur'an</p>
                </div>
                <div class="surah-list">
            `;

            surahList.forEach(surah => {
                html += `
                    <div class="surah-card" onclick="loadSurah(${surah.id})">
                        <h3>${surah.id}. ${surah.name_simple}</h3>
                        <p style="color: #1e3c72; font-weight: bold;">${surah.name_arabic}</p>
                        <p>${surah.translated_name.name}</p>
                        <p>${surah.verses_count} Ayat ‚Ä¢ ${surah.revelation_place}</p>
                    </div>
                `;
            });

            html += '</div>';
            content.innerHTML = html;
        }
    </script>
</body>
</html>
