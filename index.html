<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al-Qur'an Digital</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #1e3c72;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .search-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .quick-search {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }

        .quick-search h3 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .quick-search-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 18px;
            transition: all 0.3s ease;
            margin-bottom: 10px;
        }

        .quick-search-input:focus {
            outline: none;
            border-color: #1e3c72;
            box-shadow: 0 0 15px rgba(30, 60, 114, 0.2);
        }

        .search-examples {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .example-tag {
            background: #1e3c72;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .example-tag:hover {
            background: #2a5298;
            transform: translateY(-1px);
        }

        .search-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            font-weight: 600;
            margin-bottom: 5px;
            color: #1e3c72;
        }

        .input-group select,
        .input-group input {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .input-group select:focus,
        .input-group input:focus {
            outline: none;
            border-color: #1e3c72;
            box-shadow: 0 0 10px rgba(30, 60, 114, 0.2);
        }

        .btn {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(30, 60, 114, 0.3);
        }

        .content-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            min-height: 400px;
        }

        .ayah-container {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            background: #fafafa;
            transition: all 0.3s ease;
        }

        .ayah-container:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .ayah-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .ayah-number {
            background: #1e3c72;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-right: 10px;
        }

        .surah-info {
            color: #666;
            font-size: 14px;
            margin-left: auto;
        }

        .arabic-text {
            font-size: 24px;
            line-height: 1.8;
            text-align: right;
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            font-family: 'Traditional Arabic', 'Amiri', serif;
            direction: rtl;
        }

        .translation {
            font-size: 16px;
            line-height: 1.6;
            color: #444;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #1e3c72;
        }

        .loading {
            text-align: center;
            padding: 50px;
            font-size: 18px;
            color: #666;
        }

        .error {
            background: #ffe6e6;
            color: #d63384;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border: 1px solid #f5c6cb;
        }

        .surah-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .surah-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .surah-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: #1e3c72;
        }

        .surah-card h3 {
            color: #1e3c72;
            margin-bottom: 8px;
            font-size: 18px;
        }

        .surah-card p {
            color: #666;
            font-size: 14px;
            margin: 4px 0;
        }

        @media (max-width: 768px) {
            .search-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .container {
                padding: 10px;
            }

            .search-examples {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üïå Al-Qur'an Digital</h1>
            <p>Mushaf Al-Qur'an lengkap dengan terjemahan Bahasa Indonesia</p>
        </div>

        <div class="search-section">
            <!-- Pencarian Cepat -->
            <div class="quick-search">
                <h3>üîç Pencarian Cepat</h3>
                <input type="text" 
                       id="quickSearchInput" 
                       class="quick-search-input" 
                       placeholder="Ketik: 'qs 2', 'yasin', 'qs 2 ayat 1', 'juz 1', 'halaman 1'"
                       onkeypress="handleQuickSearchEnter(event)">
                <div class="search-examples">
                    <span class="example-tag" onclick="setQuickSearch('qs 2')">qs 2</span>
                    <span class="example-tag" onclick="setQuickSearch('yasin')">yasin</span>
                    <span class="example-tag" onclick="setQuickSearch('qs 2 ayat 1')">qs 2 ayat 1</span>
                    <span class="example-tag" onclick="setQuickSearch('juz 1')">juz 1</span>
                    <span class="example-tag" onclick="setQuickSearch('halaman 1')">halaman 1</span>
                </div>
            </div>

            <!-- Pencarian Manual -->
            <div class="search-grid">
                <div class="input-group">
                    <label for="surahSelect">Pilih Surat:</label>
                    <select id="surahSelect">
                        <option value="">-- Pilih Surat --</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="ayahInput">Nomor Ayat:</label>
                    <input type="number" id="ayahInput" min="1" placeholder="Masukkan nomor ayat">
                </div>
                <div class="input-group">
                    <label for="juzSelect">Pilih Juz:</label>
                    <select id="juzSelect">
                        <option value="">-- Pilih Juz --</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="pageInput">Halaman:</label>
                    <input type="number" id="pageInput" min="1" max="604" placeholder="1-604">
                </div>
            </div>
            <div style="text-align: center;">
                <button class="btn" onclick="performQuickSearch()">üöÄ Pencarian Cepat</button>
                <button class="btn" onclick="searchAyah()">üîç Cari Ayat</button>
                <button class="btn" onclick="showAllSurahs()">üìã Daftar Semua Surat</button>
                <button class="btn" onclick="loadRandomAyah()">üé≤ Ayat Acak</button>
            </div>
        </div>

        <div class="content-section">
            <div id="content">
                <div class="loading">
                    <p>Selamat datang di Al-Qur'an Digital</p>
                    <p>Gunakan fitur pencarian cepat atau pencarian manual di atas</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let quranData = {};
        let surahList = [];
        
        // Load Quran data from API
        async function loadQuranData() {
            try {
                showLoading('Memuat data Al-Qur\'an...');
                
                // Load surah list
                const surahResponse = await fetch('https://api.quran.com/api/v4/chapters');
                const surahData = await surahResponse.json();
                surahList = surahData.chapters;
                
                populateSurahSelect();
                populateJuzSelect();
                
                document.getElementById('content').innerHTML = `
                    <div class="loading">
                        <h3>‚úÖ Data Al-Qur'an berhasil dimuat!</h3>
                        <p>Silakan gunakan fitur pencarian untuk membaca ayat-ayat Al-Qur'an</p>
                        <p>Total: ${surahList.length} surat tersedia</p>
                        <br>
                        <p><strong>Contoh pencarian cepat:</strong></p>
                        <p>‚Ä¢ "qs 2" atau "2" ‚Üí Surat 2</p>
                        <p>‚Ä¢ "yasin" ‚Üí Surat Yasin</p>
                        <p>‚Ä¢ "qs 2 ayat 1" ‚Üí Surat 2 ayat 1</p>
                        <p>‚Ä¢ "juz 1" ‚Üí Juz 1</p>
                        <p>‚Ä¢ "halaman 1" ‚Üí Halaman 1</p>
                    </div>
                `;
                
            } catch (error) {
                showError('Gagal memuat data Al-Qur\'an. Pastikan koneksi internet Anda stabil.');
                console.error('Error loading Quran data:', error);
            }
        }
        
        function populateSurahSelect() {
            const select = document.getElementById('surahSelect');
            select.innerHTML = '<option value="">-- Pilih Surat --</option>';
            
            surahList.forEach(surah => {
                const option = document.createElement('option');
                option.value = surah.id;
                option.textContent = `${surah.id}. ${surah.name_simple} (${surah.translated_name.name})`;
                select.appendChild(option);
            });
        }
        
        function populateJuzSelect() {
            const select = document.getElementById('juzSelect');
            select.innerHTML = '<option value="">-- Pilih Juz --</option>';
            
            for (let i = 1; i <= 30; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = `Juz ${i}`;
                select.appendChild(option);
            }
        }

        // Fungsi pencarian cepat
        function performQuickSearch() {
            const query = document.getElementById('quickSearchInput').value.trim().toLowerCase();
            
            if (!query) {
                showError('Silakan masukkan kata kunci pencarian.');
                return;
            }

            parseQuickSearch(query);
        }

        function parseQuickSearch(query) {
            // Bersihkan query
            query = query.toLowerCase().trim();
            
            // Pattern untuk menangkap berbagai format
            const patterns = [
                // qs 186 ayat 1, 186 ayat 1
                /^(?:qs\s+)?(\d+)\s+ayat\s+(\d+)$/,
                // qs 186, 186
                /^(?:qs\s+)?(\d+)$/,
                // juz 1
                /^juz\s+(\d+)$/,
                // halaman 1
                /^halaman\s+(\d+)$/,
                // page 1
                /^page\s+(\d+)$/
            ];

            // Cek pattern angka dengan ayat
            const ayatMatch = query.match(patterns[0]);
            if (ayatMatch) {
                const surahNum = parseInt(ayatMatch[1]);
                const ayatNum = parseInt(ayatMatch[2]);
                
                if (surahNum >= 1 && surahNum <= 114) {
                    searchSpecificAyah(surahNum, ayatNum);
                    return;
                } else {
                    showError(`Nomor surat harus antara 1-114. Anda memasukkan: ${surahNum}`);
                    return;
                }
            }

            // Cek pattern angka saja
            const surahMatch = query.match(patterns[1]);
            if (surahMatch) {
                const surahNum = parseInt(surahMatch[1]);
                
                if (surahNum >= 1 && surahNum <= 114) {
                    loadSurah(surahNum);
                    return;
                } else {
                    showError(`Nomor surat harus antara 1-114. Anda memasukkan: ${surahNum}`);
                    return;
                }
            }

            // Cek pattern juz
            const juzMatch = query.match(patterns[2]);
            if (juzMatch) {
                const juzNum = parseInt(juzMatch[1]);
                
                if (juzNum >= 1 && juzNum <= 30) {
                    searchByJuz(juzNum);
                    return;
                } else {
                    showError(`Nomor juz harus antara 1-30. Anda memasukkan: ${juzNum}`);
                    return;
                }
            }

            // Cek pattern halaman
            const pageMatch = query.match(patterns[3]) || query.match(patterns[4]);
            if (pageMatch) {
                const pageNum = parseInt(pageMatch[1]);
                
                if (pageNum >= 1 && pageNum <= 604) {
                    searchByPage(pageNum);
                    return;
                } else {
                    showError(`Nomor halaman harus antara 1-604. Anda memasukkan: ${pageNum}`);
                    return;
                }
            }

            // Cek nama surat
            const surahByName = findSurahByName(query);
            if (surahByName) {
                loadSurah(surahByName.id);
                return;
            }

            showError(`Format pencarian tidak dikenali: "${query}". Coba format: "qs 2", "yasin", "qs 2 ayat 1", "juz 1", atau "halaman 1"`);
        }

        function findSurahByName(query) {
            // Daftar nama surat dalam bahasa Indonesia dan Arab
            const surahNames = {
                'alfatihah': 1, 'fatihah': 1, 'pembukaan': 1,
                'albaqarah': 2, 'baqarah': 2, 'sapi': 2,
                'alimran': 3, 'imran': 3, 'keluarga imran': 3,
                'annisa': 4, 'nisa': 4, 'wanita': 4,
                'almaidah': 5, 'maidah': 5, 'hidangan': 5,
                'alanam': 6, 'anam': 6, 'binatang ternak': 6,
                'alaraf': 7, 'araf': 7, 'tempat tertinggi': 7,
                'alanfal': 8, 'anfal': 8, 'harta rampasan': 8,
                'attaubah': 9, 'taubah': 9, 'pengampunan': 9,
                'yunus': 10, 'nabi yunus': 10,
                'hud': 11, 'nabi hud': 11,
                'yusuf': 12, 'nabi yusuf': 12,
                'arrad': 13, 'rad': 13, 'guruh': 13,
                'ibrahim': 14, 'nabi ibrahim': 14,
                'alhijr': 15, 'hijr': 15,
                'annahl': 16, 'nahl': 16, 'lebah': 16,
                'alisra': 17, 'isra': 17, 'perjalanan malam': 17,
                'alkahf': 18, 'kahf': 18, 'gua': 18,
                'maryam': 19, 'siti maryam': 19,
                'taha': 20,
                'alanbiya': 21, 'anbiya': 21, 'para nabi': 21,
                'alhajj': 22, 'hajj': 22, 'haji': 22,
                'almuminun': 23, 'muminun': 23, 'orang mukmin': 23,
                'annur': 24, 'nur': 24, 'cahaya': 24,
                'alfurqan': 25, 'furqan': 25, 'pembeda': 25,
                'assyuara': 26, 'syuara': 26, 'para penyair': 26,
                'annaml': 27, 'naml': 27, 'semut': 27,
                'alqasas': 28, 'qasas': 28, 'kisah': 28,
                'alankabut': 29, 'ankabut': 29, 'laba-laba': 29,
                'arrum': 30, 'rum': 30, 'bangsa romawi': 30,
                'luqman': 31, 'lukman': 31,
                'assajdah': 32, 'sajdah': 32, 'sujud': 32,
                'alahzab': 33, 'ahzab': 33, 'golongan': 33,
                'saba': 34, 'kaum saba': 34,
                'fatir': 35, 'pencipta': 35,
                'yasin': 36, 'ya sin': 36,
                'assaffat': 37, 'saffat': 37, 'berbaris': 37,
                'sad': 38,
                'azzumar': 39, 'zumar': 39, 'rombongan': 39,
                'ghafir': 40, 'mukmin': 40,
                'fussilat': 41, 'dijelaskan': 41,
                'asyura': 42, 'syura': 42, 'musyawarah': 42,
                'azzukhruf': 43, 'zukhruf': 43, 'perhiasan': 43,
                'addukhan': 44, 'dukhan': 44, 'kabut': 44,
                'aljatsiyah': 45, 'jatsiyah': 45, 'berlutut': 45,
                'alahqaf': 46, 'ahqaf': 46, 'bukit pasir': 46,
                'muhammad': 47, 'nabi muhammad': 47,
                'alfath': 48, 'fath': 48, 'kemenangan': 48,
                'alhujurat': 49, 'hujurat': 49, 'kamar': 49,
                'qaf': 50,
                'azzariyat': 51, 'zariyat': 51, 'angin': 51,
                'attur': 52, 'tur': 52, 'bukit': 52,
                'annajm': 53, 'najm': 53, 'bintang': 53,
                'alqamar': 54, 'qamar': 54, 'bulan': 54,
                'arrahman': 55, 'rahman': 55, 'maha pengasih': 55,
                'alwaqiah': 56, 'waqiah': 56, 'hari kiamat': 56,
                'alhadid': 57, 'hadid': 57, 'besi': 57,
                'almujadilah': 58, 'mujadilah': 58, 'gugatan': 58,
                'alhasyr': 59, 'hasyr': 59, 'pengusiran': 59,
                'almumtahanah': 60, 'mumtahanah': 60, 'diuji': 60,
                'assaff': 61, 'saff': 61, 'barisan': 61,
                'aljumuah': 62, 'jumuah': 62, 'hari jumat': 62,
                'almunafiqun': 63, 'munafiqun': 63, 'orang munafik': 63,
                'attaghabun': 64, 'taghabun': 64, 'pengungkapan': 64,
                'attalaq': 65, 'talaq': 65, 'cerai': 65,
                'attahrim': 66, 'tahrim': 66, 'pengharaman': 66,
                'almulk': 67, 'mulk': 67, 'kerajaan': 67,
                'alqalam': 68, 'qalam': 68, 'pena': 68,
                'alhaqqah': 69, 'haqqah': 69, 'hari kiamat': 69,
                'almarij': 70, 'marij': 70, 'tempat naik': 70,
                'nuh': 71, 'nabi nuh': 71,
                'aljinn': 72, 'jinn': 72, 'jin': 72,
                'almuzzammil': 73, 'muzzammil': 73, 'berselimut': 73,
                'almuddatsir': 74, 'muddatsir': 74, 'berselubung': 74,
                'alqiyamah': 75, 'qiyamah': 75, 'kiamat': 75,
                'alinsan': 76, 'insan': 76, 'manusia': 76,
                'almursalat': 77, 'mursalat': 77, 'diutus': 77,
                'annaba': 78, 'naba': 78, 'berita besar': 78,
                'annaziat': 79, 'naziat': 79, 'pencabut': 79,
                'abasa': 80, 'dia bermuka masam': 80,
                'attakwir': 81, 'takwir': 81, 'menggulung': 81,
                'alinfitar': 82, 'infitar': 82, 'terbelah': 82,
                'almutaffifin': 83, 'mutaffifin': 83, 'curang': 83,
                'alinsyiqaq': 84, 'insyiqaq': 84, 'terbelah': 84,
                'alburuj': 85, 'buruj': 85, 'gugusan bintang': 85,
                'attariq': 86, 'tariq': 86, 'yang datang malam': 86,
                'alala': 87, 'ala': 87, 'maha tinggi': 87,
                'alghasyiyah': 88, 'ghasyiyah': 88, 'hari pembalasan': 88,
                'alfajr': 89, 'fajr': 89, 'fajar': 89,
                'albalad': 90, 'balad': 90, 'negeri': 90,
                'assyams': 91, 'syams': 91, 'matahari': 91,
                'allail': 92, 'lail': 92, 'malam': 92,
                'adduha': 93, 'duha': 93, 'waktu duha': 93,
                'alinsyirah': 94, 'insyirah': 94, 'lapang': 94,
                'attin': 95, 'tin': 95, 'buah tin': 95,
                'alalaq': 96, 'alaq': 96, 'segumpal darah': 96,
                'alqadr': 97, 'qadr': 97, 'kemuliaan': 97,
                'albayyinah': 98, 'bayyinah': 98, 'bukti': 98,
                'azzalzalah': 99, 'zalzalah': 99, 'guncangan': 99,
                'aladiyat': 100, 'adiyat': 100, 'berlari': 100,
                'alqariah': 101, 'qariah': 101, 'hari kiamat': 101,
                'attakasur': 102, 'takasur': 102, 'bermegah': 102,
                'alasr': 103, 'asr': 103, 'masa': 103,
                'alhumazah': 104, 'humazah': 104, 'pengumpat': 104,
                'alfil': 105, 'fil': 105, 'gajah': 105,
                'quraisy': 106, 'suku quraisy': 106,
                'almaun': 107, 'maun': 107, 'barang berguna': 107,
                'alkausar': 108, 'kausar': 108, 'nikmat': 108,
                'alkafirun': 109, 'kafirun': 109, 'orang kafir': 109,
                'annasr': 110, 'nasr': 110, 'pertolongan': 110,
                'allahab': 111, 'lahab': 111, 'api': 111,
                'alikhlas': 112, 'ikhlas': 112, 'memurnikan': 112,
                'alfalaq': 113, 'falaq': 113, 'waktu subuh':
